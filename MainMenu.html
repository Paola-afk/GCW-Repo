<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MeowMadness - Menú Inicial</title>
    <link rel="stylesheet" href="front/css/MainMenu.css">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <script type="module" src="back/music.js"></script>


    <script type="module">
        import * as THREE from "./three.module.js";
        import { OrbitControls } from "./OrbitControls.js";
        import { GLTFLoader } from "./GLTFLoader.js";


        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
        import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js";
        import { getDatabase, ref, set, onValue, update } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js";
       //import { onAuthStateChanged } from "firebase/auth";

      // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyC0po5j4MfBukAWFINQQryp0LKKZwvpzEY",
            authDomain: "coordenadas-251ea.firebaseapp.com",
            databaseURL: "https://coordenadas-251ea-default-rtdb.firebaseio.com/",
            projectId: "coordenadas-251ea",
            storageBucket: "coordenadas-251ea.firebasestorage.app",
            messagingSenderId: "31232618102",
            appId: "1:31232618102:web:739c3ad3aee30ebf8c7957"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth();
        const db = getDatabase();
        const provider = new GoogleAuthProvider();


        function verificarAudio() {
        const audio = document.getElementById('background-music');

        // Verificar si el audio estaba reproduciéndose
        const isPlaying = localStorage.getItem('isAudioPlaying');
        if (isPlaying === 'true') {
            audio.play();
        }

        // Verificar y aplicar volumen guardado
        const savedVolume = localStorage.getItem('audioVolume');
        audio.volume = savedVolume !== null ? parseFloat(savedVolume) : 1.0; // Si no hay volumen guardado, usar el valor por defecto

        // Guardar estado del audio en localStorage cuando se reproduce o pausa
        audio.addEventListener('play', () => {
            localStorage.setItem('isAudioPlaying', 'true');
        });
        audio.addEventListener('pause', () => {
            localStorage.setItem('isAudioPlaying', 'false');
        });

        // Evento para verificar si el audio está listo para reproducirse y sin errores
        audio.addEventListener('loadedmetadata', () => {
            console.log('El audio se ha cargado correctamente y está listo para reproducirse.');
        });

        // Evento para manejar errores de carga de audio
        audio.addEventListener('error', (e) => {
            console.error('Error al cargar el audio:', e);
        });
    }

</script>


</head>
<body>
    
    <div id="menu" class="menu-container">
        <div >
            <img src="front/UI/Meow-madness-14-8-2024.png" alt="MeowMadness" class="logo">
        </div>
        
        <div class="button-container">
            <div class="button"><a href="ScenariosMenu.html"><img src="front/UI/ButtonEscenarios.png" alt="Escenarios"></a></div>
        </div>
        <div class="buttons-container">
            <div class="button"><a href="SettingsMenu.html" ><img src="front/UI/ConfigVerde.png" alt="Configuracion"></a></div>
            <div class="button"><a href="Puntuaciones.html" ><img src="front/UI/InfoRojo.png" alt="Puntuaciones"></a></div>
        </div>
    </div>

</body>
</html>
